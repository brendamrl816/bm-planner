<div ng-controller="editEventCtrl as edit">
        
            <table style="width:98%">
                <tr style="height:20px">
                    <th>Sun</th>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                </tr>
            </table>
            
           <div id="bigCalTable" style="display:table; width:105%" ng-repeat="week in monthctrl.calendar.currentDisplayMonth.weeks">
                <div style="display:table-cell; width:150px; height:200px; border:1px solid #ebebe0" ng-repeat="day in week.days">
                    <div style="width:100%; display:block">
                        <div ng-style="{'margin-left':'5px', 'color':style.theStyle.css.buttons_borderColor}"  class="bigCalDates">{{day.dateOfMonth}}</div>
                        
                        <div ng-style="{'position':'relative', 'margin-bottom':'20px', 'height':day.longEventsHeight * 20, 'width':'101%'}">
                            <div  style="display:table-row; position:absolute; width:100%" ng-controller="eventCtrl" ng-click="toggleEventMenu()" ng-style="{'top':event.top, 'border-bottom':'2px solid', 'border-top':'2px solid', 'border-color':'#e6e6e6', 'background-color':getColor(), 'cursor':'hand'}" ng-repeat="event in day.longEvents">
                                <div ng-if="event.eventStartsOn == day.itsDate.format('YYYY-MM-DD')" style="border-left:3px solid #e6e6e6" >
                                    <span style="margin-left:30%">{{event.name}}</span>
                                </div>
                                <div ng-if="event.eventStartsOn != day.itsDate.format('YYYY-MM-DD')">&nbsp</div>
                                <questionmodal question='eventMenu'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:10%">What would you like to do with this event?</div>
                                        <div style="margin-top:15px; margin-left:30%">
                                            <button  ng-style="style.buttonStyle()" ng-click="editEvent(event)">Edit</button>
                                            <button  ng-style="style.buttonStyle()" ng-click="deleteEvent()">Delete</button>
                                        </div>
                                            
                                    </div>
                                </questionmodal>
                                
                                <continuemodal question='kindOfEdition'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <button ng-style="style.buttonStyle()" style="margin-top:15px; margin-left:30%" ng-click="editThisEvent(event)">This Event Only</button>
                                        <br>
                                        <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:20%" ng-click="editFutureEvents(event)">All Events Going Forward</button>
                                        <br>
                                        <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:25%" ng-click="editAllEvents(event)">All Event Repetitions</button> 
                                    </div>
                                        
                                </continuemodal>
                                
                                <continuemodal question="eventsRepQuestion">
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:20%">
                                            <button ng-style="style.buttonStyle()" style="margin-top:10px" ng-click="deleteAllOcurrences()">Delete All Event Occurrences</button>
                                            <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:5px" ng-click="deleteOnlyThisOcurrance()">Delete Only This Ocurrence</button>
                                        </div>
                                    </div>
                                        
                                </continuemodal>
                                
                                <continuemodal  question='verifyDeletion'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:15px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:5px; margin-left:10%" ng-if="verificationAnswer == 'all'">Repeats until: {{startDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%; font-weight:bold">{{verificationQuestion}}</div>
                                        <div style="margin-top:10px; margin-left:40%">
                                            <button ng-style="style.buttonStyle()" ng-click="yesDeleteEvent()">YES</button> 
                                            <button ng-style="style.buttonStyle()" ng-click="noDeleteEvent()">NO</button>
                                        </div>
                                    </div>
                                       
                                </continuemodal>
                                
                            </div>
                        </div>
                        
                        <div style="margin-top:5px">
                            <div style="position:relative; width:100%; font-size:14px" ng-controller="eventCtrl" ng-repeat="event in day.events">
                                <div ng-if="event.allDay != true" ng-style="{'color':getColor(), 'cursor':'hand'}"  ng-click="toggleEventMenu()">
                                        <span style="font-size:12px; font-family:'Arial Narrow', Arial, sans-serif">{{event.startTimeDisplay}}-{{event.endTimeDisplay}}</span>
                                        <span> {{event.name}}</span>
                                </div>
                                
                                <div ng-if="event.allDay == true" ng-style="{'background-color':getColor(), 'border-radius':'30px', 'cursor':'hand'}" ng-click="toggleEventMenu()">
                                        <span style="margin-left:10%">{{event.name}}</span>
                                </div>
                
                                <questionmodal question='eventMenu'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:10%">What would you like to do with this event?</div>
                                        <div style="margin-top:15px; margin-left:30%">
                                            <button  ng-style="style.buttonStyle()" ng-click="editEvent(event)">Edit</button>
                                            <button  ng-style="style.buttonStyle()" ng-click="deleteEvent()">Delete</button>
                                        </div>
                                            
                                    </div>
                                </questionmodal>
                                
                                <continuemodal question='kindOfEdition'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <button ng-style="style.buttonStyle()" style="margin-top:15px; margin-left:30%" ng-click="editThisEvent(event)">This Event Only</button>
                                        <br>
                                        <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:20%" ng-click="editFutureEvents(event)">All Events Going Forward</button>
                                        <br>
                                        <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:25%" ng-click="editAllEvents(event)">All Event Repetitions</button> 
                                    </div>
                                        
                                </continuemodal>
                                
                                <continuemodal question="eventsRepQuestion">
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:20%">
                                            <button ng-style="style.buttonStyle()" style="margin-top:10px" ng-click="deleteAllOcurrences()">Delete All Event Occurrences</button>
                                            <button ng-style="style.buttonStyle()" style="margin-top:10px; margin-left:5px" ng-click="deleteOnlyThisOcurrance()">Delete Only This Ocurrence</button>
                                        </div>
                                    </div>
                                        
                                </continuemodal>
                                
                                <continuemodal  question='verifyDeletion'>
                                    <div ng-style="style.menuModalStyle()" class="questionModal">
                                        <div style="margin-top:15px; margin-left:35%; font-size:130%; font-weight:bold" ng-style="{'color':getColor()}">{{event.name}}</div>
                                        <div style="margin-top:15px; margin-left:10%" ng-if="event.allDay == true">{{startDateDisplay}} - {{endDateDisplay}}</div>
                                        <div style="margin-top:15px; margin-left:10%" ng-if="event.allDay == false">{{startDateDisplay}} at {{event.startTimeDisplay}} - {{endDateDisplay}} at {{event.endTimeDisplay}}</div>
                                        <div style="margin-top:5px; margin-left:10%" ng-if="verificationAnswer == 'all'">Repeats until: {{startDateDisplay}}</div>
                                        <div style="margin-top:10px; margin-left:10%; font-weight:bold">{{verificationQuestion}}</div>
                                        <div style="margin-top:10px; margin-left:40%">
                                            <button ng-style="style.buttonStyle()" ng-click="yesDeleteEvent()">YES</button> 
                                            <button ng-style="style.buttonStyle()" ng-click="noDeleteEvent()">NO</button>
                                        </div>
                                    </div>
                                       
                                </continuemodal>
                                
                            </div>
                        </div>
                        <br>
                    </div>
                </div>
            </div>

            <addeventmodal showmodal="edit.editModal">
                <div ng-include="urlTemplate"></div>
            </addeventmodal>
            
        </div>